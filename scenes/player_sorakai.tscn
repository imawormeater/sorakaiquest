[gd_scene load_steps=58 format=3 uid="uid://dw40p48fqbsl2"]

[ext_resource type="Script" path="res://scripts/player_sorakai.gd" id="1_6cmhp"]
[ext_resource type="Texture2D" uid="uid://8ggihh27mlrr" path="res://assets/blob_shadow.png" id="2_yl6e5"]
[ext_resource type="Shader" path="res://assets/materials/celshaded.gdshader" id="3_j3lss"]
[ext_resource type="PackedScene" uid="uid://cauyp1btx8io" path="res://assets/loganchara.glb" id="3_t2ofv"]
[ext_resource type="Script" path="res://scripts/get_player_variables_for_fun.gd" id="4_uvf24"]
[ext_resource type="Texture2D" uid="uid://bhywkec3n6plo" path="res://assets/loganchara_LoganTex.png" id="5_pobn2"]
[ext_resource type="Texture2D" uid="uid://bntjxa37b77sc" path="res://assets/loganchara_loganface1.png" id="6_ya3t1"]
[ext_resource type="PackedScene" uid="uid://cwry764tybyvv" path="res://scenes/player_sfx.tscn" id="7_0u647"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_62ypt"]
radius = 0.3
height = 1.5

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_cwdjj"]
transparency = 1
albedo_color = Color(0, 1, 1, 0.129412)
rim_enabled = true
rim = 0.0
backlight_enabled = true
backlight = Color(1, 1, 1, 1)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_1b6ui"]
material = SubResource("StandardMaterial3D_cwdjj")
radius = 0.4
height = 1.5

[sub_resource type="ShaderMaterial" id="ShaderMaterial_p41kx"]
render_priority = 0
shader = ExtResource("3_j3lss")
shader_parameter/ToonRampOffset = 0.672
shader_parameter/ToonRampSmoothness = 0.129
shader_parameter/ToonRampTinting = Color(0.821789, 0.821789, 0.821789, 1)
shader_parameter/RimPower = 0.0
shader_parameter/RimCutOff = 0.0
shader_parameter/RimSmoothness = 0.0
shader_parameter/RimLightBrightness = 0.0
shader_parameter/SubSurfDistortion = 1.0
shader_parameter/SubSurfTint = null
shader_parameter/SubSurfBrightness = 3.0
shader_parameter/SubSurfCutoff = 0.5
shader_parameter/SubSurfSmoothness = 0.05

[sub_resource type="Curve" id="Curve_j27lv"]
max_value = 13.66
_data = [Vector2(0, 2.10385), 0.0, -2.10385, 0, 0, Vector2(1, 0), -2.24176, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_x74ye"]
curve = SubResource("Curve_j27lv")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_12an1"]
lifetime_randomness = 0.09
spread = 35.997
gravity = Vector3(0, 1, 0)
linear_accel_min = 3.55
linear_accel_max = 9.07
scale_min = 0.5
scale_curve = SubResource("CurveTexture_x74ye")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_mlvw1"]

[sub_resource type="SphereMesh" id="SphereMesh_h8alc"]
material = SubResource("StandardMaterial3D_mlvw1")
radius = 0.1
height = 0.2

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ouxd8"]
render_priority = 0
shader = ExtResource("3_j3lss")
shader_parameter/ToonRampOffset = 0.523
shader_parameter/ToonRampSmoothness = 0.219
shader_parameter/ToonRampTinting = Color(0.821788, 0.821789, 0.821789, 1)
shader_parameter/RimPower = 0.0
shader_parameter/RimCutOff = 0.0
shader_parameter/RimSmoothness = 0.0
shader_parameter/RimLightBrightness = 0.0
shader_parameter/SubSurfDistortion = 0.0
shader_parameter/SubSurfTint = null
shader_parameter/SubSurfBrightness = 0.0
shader_parameter/SubSurfCutoff = 0.0
shader_parameter/SubSurfSmoothness = 0.0
shader_parameter/Texture = ExtResource("5_pobn2")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_2nnn4"]
render_priority = 0
shader = ExtResource("3_j3lss")
shader_parameter/ToonRampOffset = 0.523
shader_parameter/ToonRampSmoothness = 0.219
shader_parameter/ToonRampTinting = Color(0.838897, 0.838897, 0.838897, 1)
shader_parameter/RimPower = 0.0
shader_parameter/RimCutOff = 0.0
shader_parameter/RimSmoothness = 0.0
shader_parameter/RimLightBrightness = 0.0
shader_parameter/SubSurfDistortion = 0.0
shader_parameter/SubSurfTint = null
shader_parameter/SubSurfBrightness = 0.0
shader_parameter/SubSurfCutoff = 0.0
shader_parameter/SubSurfSmoothness = 0.0
shader_parameter/Texture = ExtResource("6_ya3t1")

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ra5mc"]
animation = &"Fall"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_a2vr0"]
animation = &"Grab"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_p6go8"]
animation = &"GrabIdle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_gevn8"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_bnoll"]
animation = &"Run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0lpsh"]
animation = &"Run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_yrb6l"]
animation = &"Run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_qm6nk"]
animation = &"Run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_08lhq"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_o1spt"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xlgmp"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_v5lf4"]
animation = &"Idle"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_3ww81"]
blend_point_0/node = SubResource("AnimationNodeAnimation_gevn8")
blend_point_0/pos = Vector2(-0.1, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_bnoll")
blend_point_1/pos = Vector2(0, 1)
blend_point_2/node = SubResource("AnimationNodeAnimation_0lpsh")
blend_point_2/pos = Vector2(-1, 0)
blend_point_3/node = SubResource("AnimationNodeAnimation_yrb6l")
blend_point_3/pos = Vector2(0, -1)
blend_point_4/node = SubResource("AnimationNodeAnimation_qm6nk")
blend_point_4/pos = Vector2(1, 0)
blend_point_5/node = SubResource("AnimationNodeAnimation_08lhq")
blend_point_5/pos = Vector2(0, 0)
blend_point_6/node = SubResource("AnimationNodeAnimation_o1spt")
blend_point_6/pos = Vector2(0, 0.2)
blend_point_7/node = SubResource("AnimationNodeAnimation_xlgmp")
blend_point_7/pos = Vector2(0, -0.2)
blend_point_8/node = SubResource("AnimationNodeAnimation_v5lf4")
blend_point_8/pos = Vector2(0.1, 0)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_7n3r3"]
animation = &"Jump"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_tetyw"]
animation = &"Land"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_dae5x"]
animation = &"OnWall"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_0xiqw"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_kvuaj"]
advance_mode = 0
advance_condition = &"jump"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_bo3ss"]
xfade_time = 0.1
switch_mode = 2
advance_mode = 0

[sub_resource type="Curve" id="Curve_bxwph"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_aeggj"]
xfade_time = 0.5
xfade_curve = SubResource("Curve_bxwph")
priority = 3
switch_mode = 2
advance_mode = 2
advance_condition = &"Fall"

[sub_resource type="Curve" id="Curve_euef5"]
_data = [Vector2(0, 0), 0.0, 2.61071, 0, 0, Vector2(1, 1), -0.138755, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_40cqi"]
xfade_time = 0.3
xfade_curve = SubResource("Curve_euef5")
advance_mode = 2
advance_condition = &"Fall"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_4mg3k"]
xfade_time = 0.4
switch_mode = 1
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_hsh7h"]
priority = 2
advance_mode = 0

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_llqxh"]
xfade_time = 0.1
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5p4ba"]
advance_mode = 0

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8no8a"]
advance_mode = 0

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_j6jby"]
xfade_time = 0.05
advance_mode = 0

[sub_resource type="Curve" id="Curve_2w6ps"]
_data = [Vector2(0, 0), 0.0, 1.4, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8fkg6"]
xfade_time = 0.1
xfade_curve = SubResource("Curve_2w6ps")
advance_mode = 2
advance_condition = &"OnWall"

[sub_resource type="Curve" id="Curve_g6ign"]
_data = [Vector2(0, 0), 0.0, 1.4, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_w7h72"]
xfade_time = 0.1
xfade_curve = SubResource("Curve_g6ign")
advance_mode = 2
advance_condition = &"OnWall"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7qlsl"]
xfade_time = 0.1
advance_mode = 0
advance_condition = &"onFloor"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ifxl8"]
advance_mode = 0
advance_condition = &"OnWall"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_01icu"]
advance_mode = 0

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_d3f7f"]
advance_mode = 0
advance_condition = &"onFloor"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_wt1rb"]
states/Fall/node = SubResource("AnimationNodeAnimation_ra5mc")
states/Fall/position = Vector2(489, 41)
states/Grab/node = SubResource("AnimationNodeAnimation_a2vr0")
states/Grab/position = Vector2(114, -28)
states/GrabIdle/node = SubResource("AnimationNodeAnimation_p6go8")
states/GrabIdle/position = Vector2(-12, 105)
states/IdleWalk/node = SubResource("AnimationNodeBlendSpace2D_3ww81")
states/IdleWalk/position = Vector2(693, -28)
states/Jump/node = SubResource("AnimationNodeAnimation_7n3r3")
states/Jump/position = Vector2(612, 182)
states/Land/node = SubResource("AnimationNodeAnimation_tetyw")
states/Land/position = Vector2(779, 171)
states/OnWall/node = SubResource("AnimationNodeAnimation_dae5x")
states/OnWall/position = Vector2(516, 323)
states/Start/position = Vector2(378, -32)
transitions = ["Start", "IdleWalk", SubResource("AnimationNodeStateMachineTransition_0xiqw"), "IdleWalk", "Jump", SubResource("AnimationNodeStateMachineTransition_kvuaj"), "Jump", "IdleWalk", SubResource("AnimationNodeStateMachineTransition_bo3ss"), "Jump", "Fall", SubResource("AnimationNodeStateMachineTransition_aeggj"), "IdleWalk", "Fall", SubResource("AnimationNodeStateMachineTransition_40cqi"), "Land", "IdleWalk", SubResource("AnimationNodeStateMachineTransition_4mg3k"), "Jump", "Grab", SubResource("AnimationNodeStateMachineTransition_hsh7h"), "Grab", "GrabIdle", SubResource("AnimationNodeStateMachineTransition_llqxh"), "GrabIdle", "Jump", SubResource("AnimationNodeStateMachineTransition_5p4ba"), "Grab", "Jump", SubResource("AnimationNodeStateMachineTransition_8no8a"), "Fall", "Grab", SubResource("AnimationNodeStateMachineTransition_j6jby"), "Jump", "OnWall", SubResource("AnimationNodeStateMachineTransition_8fkg6"), "Fall", "OnWall", SubResource("AnimationNodeStateMachineTransition_w7h72"), "OnWall", "Land", SubResource("AnimationNodeStateMachineTransition_7qlsl"), "OnWall", "Jump", SubResource("AnimationNodeStateMachineTransition_ifxl8"), "Jump", "Land", SubResource("AnimationNodeStateMachineTransition_01icu"), "Fall", "Land", SubResource("AnimationNodeStateMachineTransition_d3f7f")]
graph_offset = Vector2(-65, -59)

[node name="Sorakai" type="CharacterBody3D" node_paths=PackedStringArray("camera")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
floor_constant_speed = true
floor_max_angle = 1.0472
script = ExtResource("1_6cmhp")
camera = NodePath("Camera")
_face_mat = "surface_material_override/1"

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_62ypt")

[node name="Pivot" type="Node3D" parent="."]

[node name="Arm" type="SpringArm3D" parent="Pivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.245521, -1.19209e-07)
spring_length = 5.0
margin = 0.3

[node name="Target" type="Node3D" parent="Pivot/Arm"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 5)

[node name="Visual" type="Node3D" parent="."]

[node name="Debug" type="MeshInstance3D" parent="Visual"]
visible = false
mesh = SubResource("CapsuleMesh_1b6ui")
skeleton = NodePath("../..")

[node name="faceCast" type="RayCast3D" parent="Visual"]
transform = Transform3D(1.464, 0, 0, 0, -4.37114e-08, -1.464, 0, 1, -6.39935e-08, 0, 0, 0)
target_position = Vector3(0, -0.5, 0)

[node name="Shadow" type="Decal" parent="Visual"]
transform = Transform3D(1, 6.81509e-14, -3.82132e-15, -6.81509e-14, 1, 3.67332e-08, 3.82132e-15, -3.67332e-08, 1, -2.23172e-13, -4.27462, 1.20287e-07)
size = Vector3(1.2, 7.08924, 1.2)
texture_albedo = ExtResource("2_yl6e5")
modulate = Color(1, 1, 1, 0.709804)
upper_fade = 0.102454
lower_fade = 0.0416088

[node name="hangCasts" type="Node3D" parent="Visual"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.145504, 0)

[node name="TopCast" type="RayCast3D" parent="Visual/hangCasts"]
transform = Transform3D(1.464, 0, 0, 0, 1, 0, 0, 3.55271e-15, 1.464, 0, 1, -0.5)
target_position = Vector3(0, -0.5, 0)
hit_from_inside = true

[node name="FrontCast" type="RayCast3D" parent="Visual/hangCasts"]
transform = Transform3D(1.464, 0, 0, 0, -4.37114e-08, -1.464, 0, 1, -6.39935e-08, 0, 0.5, 0)
target_position = Vector3(0, -0.5, 0)

[node name="WalkDust" type="GPUParticles3D" parent="Visual"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.729597, 0.0224319)
material_override = SubResource("ShaderMaterial_p41kx")
emitting = false
lifetime = 0.24
speed_scale = 0.5
explosiveness = 0.11
randomness = 0.7
collision_base_size = 0.0
visibility_aabb = AABB(-0.203111, -0.0686203, -0.180086, 0.406222, 0.137241, 0.360171)
process_material = SubResource("ParticleProcessMaterial_12an1")
draw_pass_1 = SubResource("SphereMesh_h8alc")

[node name="loganchara" parent="Visual" instance=ExtResource("3_t2ofv")]
transform = Transform3D(0.000715101, 0, 0.0831059, 0, 0.083109, 0, -0.0831059, 0, 0.000715101, 0, -0.744453, -0.257608)

[node name="Skeleton3D" parent="Visual/loganchara/Armature" index="0"]
bones/0/position = Vector3(-0.0543279, -1.46999, -0.304354)
bones/0/rotation = Quaternion(0.993622, 0.00532526, -0.111954, -0.0124068)
bones/1/rotation = Quaternion(0.00169677, 0.112627, 0.129591, 0.985149)
bones/2/rotation = Quaternion(0.541577, 0.454637, -0.541577, 0.454637)
bones/2/scale = Vector3(1, 1, 1)
bones/3/position = Vector3(-0.045908, -1.46999, 0.337209)
bones/3/rotation = Quaternion(0.991793, 0.0604903, -0.11247, -0.00617114)
bones/4/rotation = Quaternion(0.00654045, 0.112449, 0.171854, 0.978662)
bones/4/scale = Vector3(1, 1, 1)
bones/5/rotation = Quaternion(0.539399, 0.457219, -0.539399, 0.457219)
bones/5/scale = Vector3(1, 1, 1)
bones/6/position = Vector3(-0.0781445, -1.51454, -0.00108111)
bones/6/rotation = Quaternion(9.31131e-10, 1.19206e-07, -0.00781089, 0.999969)
bones/7/rotation = Quaternion(-0.00262772, -0.0556291, -0.0609029, 0.996589)
bones/8/position = Vector3(-0.0239583, 0.602603, 0.00283578)
bones/8/rotation = Quaternion(0.00298045, 0.055656, 0.0671704, 0.996184)
bones/8/scale = Vector3(1, 1, 1)
bones/9/rotation = Quaternion(0.065262, 0.42392, 0.899955, 0.078187)
bones/10/rotation = Quaternion(-0.112227, 0.101942, 0.212856, 0.965249)
bones/11/rotation = Quaternion(-0.100787, 0.96615, 0.153133, 0.181509)
bones/11/scale = Vector3(1, 1, 1)
bones/12/rotation = Quaternion(0.0181025, 0.588216, 0.807416, -0.0418797)
bones/13/rotation = Quaternion(0.20999, 0.781056, 0.23008, 0.54122)
bones/13/scale = Vector3(1, 1, 1)
bones/14/rotation = Quaternion(0.721575, -0.379053, 0.539956, -0.20999)
bones/14/scale = Vector3(1, 1, 1)
bones/15/rotation = Quaternion(0.167062, -0.0809541, -0.102087, 0.9773)
bones/16/rotation = Quaternion(-0.179544, 0.712432, 0.0877478, -0.672685)
bones/17/rotation = Quaternion(-0.761307, -0.0081396, 0.273992, 0.5876)
bones/17/scale = Vector3(1, 1, 1)
bones/18/rotation = Quaternion(-0.320628, 0.54518, 0.0172301, 0.77439)
bones/18/scale = Vector3(1, 1, 1)
bones/19/rotation = Quaternion(-0.707107, 0, 0, 0.707107)

[node name="logan" parent="Visual/loganchara/Armature/Skeleton3D" index="0"]
cast_shadow = 0
surface_material_override/0 = SubResource("ShaderMaterial_ouxd8")
surface_material_override/1 = SubResource("ShaderMaterial_2nnn4")

[node name="AnimationPlayer" parent="Visual/loganchara" index="1"]
deterministic = true

[node name="AnimationTree" type="AnimationTree" parent="Visual/loganchara"]
active = false
tree_root = SubResource("AnimationNodeStateMachine_wt1rb")
anim_player = NodePath("../AnimationPlayer")
parameters/conditions/Fall = false
parameters/conditions/OnWall = false
parameters/conditions/jump = false
parameters/conditions/onFloor = false
parameters/IdleWalk/blend_position = Vector2(0, 0)

[node name="PlayerSFX" parent="Visual" instance=ExtResource("7_0u647")]

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Label" type="Label" parent="CanvasLayer" node_paths=PackedStringArray("logan")]
offset_right = 280.0
offset_bottom = 135.0
scale = Vector2(0.825, 0.825)
script = ExtResource("4_uvf24")
logan = NodePath("../..")

[node name="Timers" type="Node" parent="."]

[node name="WalkrideConnection" type="Timer" parent="Timers"]
process_callback = 0
wait_time = 0.1

[node name="Camera" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.24552, 5)
top_level = true
v_offset = 0.28
current = true
fov = 98.7

[editable path="Visual/loganchara"]
